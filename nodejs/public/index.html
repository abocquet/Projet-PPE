<!DOCTYPE html>
<html lang="fr" ng-app="app">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">

		<title>Drone dirigeable</title>

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
		<link href="css/added.css" rel="stylesheet">

		<!-- Just for debugging purposes. Don't actually copy this line! -->
		<!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>

	<body ng-controller="MainController as Main">

		<div class="container">
			<div class="jumbotron">
				<h1>Drone dirigeable</h1>
			</div>

			<div ng-show="data.serial.isConnected">
				
				<form ng-submit="setMotors()" class="space">

					<div class="col-md-6">
						<h3>Moteur Gauche</h3>
						<div class="form-horizontal">
							<div class="form-group">
								<label for="moteur_gauche_vitesse" class="col-sm-3">Vitesse: {{ data.moteur.gauche.vitesse }}</label>
								<div class="col-sm-9">
									<input ng-model="data.moteur.gauche.vitesse" id="moteur_gauche_vitesse" type="range" min="0" max="100" class="form-control">
								</div>
							</div>
						</div>
						<div class="form-horizontal">
							<div class="form-group">
								<label for="moteur_gauche_angle" class="col-sm-3">Angle: {{ data.moteur.gauche.angle }}</label>
								<div class="col-sm-9">
									<input ng-model="data.moteur.gauche.angle" id="moteur_gauche_angle" type="range" min="0" max="360" class="form-control">
								</div>
							</div>
						</div>
					</div>

					<div class="col-md-6">
						<h3>Moteur Droit</h3>
						<div class="form-horizontal">
							<div class="form-group">
								<label for="moteur_droit_vitesse" class="col-sm-3">Vitesse: {{ data.moteur.droit.vitesse }}</label>
								<div class="col-sm-9">
									<input ng-model="data.moteur.droit.vitesse" id="moteur_droit_vitesse" type="range" min="0" max="100" class="form-control">
								</div>
							</div>
						</div>
						<div class="form-horizontal">
							<div class="form-group">
								<label for="moteur_droit_angle" class="col-sm-3">Angle: {{ data.moteur.droit.angle }}</label>
								<div class="col-sm-9">
									<input ng-model="data.moteur.droit.angle" id="moteur_droit_angle" type="range" min="0" max="360" class="form-control">
								</div>
							</div>
						</div>
					</div>

					<div class="text-right col-aligned">
						<input type="button" ng-click="close()" value="Fermer la connection" class="btn btn-danger">
						<input type="submit" value="Envoyer" class="btn btn-primary">
					</div>

				</form>				

				<form ng-submit="sendOrder()">
					<div class="input-group">
						<input type="text" class="form-control" ng-model="order">

						<span class="input-group-btn">
							<button class="btn btn-primary " type="submit">Envoyer</button>
							<button class="btn btn-danger" type="button" ng-click="clearStack()">Vider la pile</button>
						</span>
					</div>
				</form>

			</div>

			<div ng-hide="data.serial.isConnected">
				<div class="space">
					<h2 class="text-center">Aucune carte connectée</h2>
					<p class="text-center text-danger">{{ flash }}</p>
				</div>

				<form ng-submit="connect()" class="space form-inline text-center">
					<input type="submit" class="btn btn-warning" value="Rafraichir" ng-click="refreshPort()"/>

					<select class="form-control " ng-model="port" required="true" ng-options="port as port for port in data.serial.ports">
						<option value="">Selectionnez un port de connection</option>
					</select>

					<input type="submit" class="btn btn-primary" value="Connection" ng-click="connect()"/>
				</form>

				<p class="clearfix"></p>

				<div class="text-right">
					<button class="btn btn-danger" type="button" ng-click="clearStack()">Vider la pile</button>
				</div>
			</div>

			<div class="messages">
					<p ng-repeat="message in data.messages | limitTo: (data.messages.length - clearUntil)" class="{{alertType(message)}}">{{ message.content }}</p>
				</div>

			<div class="footer">
				<p class="text-center">
					Pilotage d'un drone télécommandé par ordinateur<br>
					Projet de PPE - Lycée du Grésivaudan (Isère) TS5-SI <br>
				</p>
			</div>


		</div> <!-- /container -->

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.27/angular.min.js"></script>
		
		<script src="/socket.io/socket.io.js"></script>
		<script src="/js/main.js"></script>

	</body>
</html>
